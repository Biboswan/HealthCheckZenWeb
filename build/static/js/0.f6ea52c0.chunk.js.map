{"version":3,"sources":["../static/js/0.f6ea52c0.chunk.js","pages/Home/index.jsx","components/Toastbar/index.jsx","components/Icons/Close.jsx","api/questions.js","../node_modules/memoize-one/dist/memoize-one.esm.js","actions/questions_actions.js","actions/answer_action.js","actions/batch_action.js","utils/data-structures.js","utils/helper.js","components/Radio/index.jsx"],"names":["webpackJsonp","186","module","__webpack_exports__","__webpack_require__","_taggedTemplateLiteral","strings","raw","Object","freeze","defineProperties","value","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_react_i18next__","__WEBPACK_IMPORTED_MODULE_2_memoize_one__","__WEBPACK_IMPORTED_MODULE_3__actions_questions_actions__","__WEBPACK_IMPORTED_MODULE_4__actions_answer_action__","__WEBPACK_IMPORTED_MODULE_5__actions_batch_action__","__WEBPACK_IMPORTED_MODULE_6__utils_data_structures__","__WEBPACK_IMPORTED_MODULE_7__utils_helper__","__WEBPACK_IMPORTED_MODULE_8__components_Loader__","__WEBPACK_IMPORTED_MODULE_9__components_Toastbar__","__WEBPACK_IMPORTED_MODULE_10_styled_components__","__WEBPACK_IMPORTED_MODULE_11__components_Button__","__WEBPACK_IMPORTED_MODULE_12__components_Radio__","__WEBPACK_IMPORTED_MODULE_13_react_redux__","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","TypeError","_templateObject","_templateObject2","_templateObject3","_templateObject4","Container","styled","div","props","theme","color","borerDark","ButtonContainer","Question","Options","form","primaryText","buildTree","memoizeOne","preorderArr","Tree","QuestionTree","constructTree","getNativeQuestion","question","localStorage","getItem","hindi","bengali","english","isFormSubmit","Home","useState","ansSelected","setAnswerSelected","isShowFormSubmitErrorToast","setIsShowFormSubmitErrorToast","useTranslation","t","isFetchingQuestions","answers","answeredAll","currentQuestionNode","fetchQuestions","goToNextQuestion","updateAnswers","submitAnswers","submitedAnswers","useEffect","setGeoLocation","useLayoutEffect","q_id","hasOwnProperty","handleAnswerSelected","e","answer","target","dataset","handleNext","nextNode","weight","qid","nextQid","handlePrev","yes_weight","no_weight","parent","handleSubmit","data","question_texts","onClick","name","label","isChecked","className","yes","no","message","suggestion","setIsToastOpen","mapStateToProps","questionsReducer","answersReducer","questions","currentQuestionId","findNode","root","connect","189","__WEBPACK_IMPORTED_MODULE_1_react_dom__","__WEBPACK_IMPORTED_MODULE_1_react_dom___default","__WEBPACK_IMPORTED_MODULE_2_prop_types__","__WEBPACK_IMPORTED_MODULE_2_prop_types___default","__WEBPACK_IMPORTED_MODULE_3_styled_components__","__WEBPACK_IMPORTED_MODULE_4__Icons_Close__","ToastOuterContainer","ToastbarContainer","ToastMessage","p","Toastbar","ReactDOM","createPortal","document","querySelector","propTypes","PropTypes","node","isRequired","func","190","_objectWithoutProperties","obj","keys","indexOf","prototype","call","rest","xmlns","width","height","viewBox","role","style","cursor","fill","fillOpacity","fillRule","d","196","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","key","arg","info","error","then","fetchQuestionsApi","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","__WEBPACK_IMPORTED_MODULE_1__constants__","__WEBPACK_IMPORTED_MODULE_2_axios__","__WEBPACK_IMPORTED_MODULE_2_axios___default","_this","axiosConfig","headers","Accept","token","a","axios","get","API_ROOT","user_details","post","197","areInputsEqual","newInputs","lastInputs","resultFn","isEqual","memoized","newArgs","calledOnce","lastThis","lastArgs","lastResult","198","__WEBPACK_IMPORTED_MODULE_2__api_questions__","dispatch","getState","loginDetails","accountReducer","type","FETCHING_QUESTIONS","console","log","preordered_tree","setItem","JSON","stringify","FETCH_QUESTIONS","payload","199","UPDATE_ANSWERS","SUBMITING_ANSWERS","answersParam","final_weight","res","location","parse","question_answer","submitAnswersApi","SUBMIT_ANSWERS","200","GO_TO_NEXT_Q","SET_CURRENT_QUESTION_ID","201","_classCallCheck","instance","Constructor","_createClass","descriptor","enumerable","configurable","writable","protoProps","staticProps","QuestionNode","st","Stack","newNode","popedNode","temp2","temp3","len","pop","setYes","setNo","nodeA","nodeB","items","item","202","navigator","geolocation","showPostion","position","coords","latitude","longitude","getCurrentPosition","203","__WEBPACK_IMPORTED_MODULE_1_styled_components__","borderDark","primaryButton","Radio","tabIndex","checked","data-id"],"mappings":"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","file":"static/js/0.f6ea52c0.chunk.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 186:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_i18next__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_memoize_one__ = __webpack_require__(197);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__actions_questions_actions__ = __webpack_require__(198);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__actions_answer_action__ = __webpack_require__(199);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__actions_batch_action__ = __webpack_require__(200);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_data_structures__ = __webpack_require__(201);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_helper__ = __webpack_require__(202);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_Loader__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__components_Toastbar__ = __webpack_require__(189);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_styled_components__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__components_Button__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__components_Radio__ = __webpack_require__(203);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_react_redux__ = __webpack_require__(24);\nvar _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i[\"return\"])_i[\"return\"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");}};}();var _templateObject=_taggedTemplateLiteral(['\\ndisplay: flex;\\nflex-direction: column;\\nwidth: 100vw;\\nheight: 100%;\\ncolor: ',';\\nalign-items: center;\\njustify-content: center;\\n'],['\\ndisplay: flex;\\nflex-direction: column;\\nwidth: 100vw;\\nheight: 100%;\\ncolor: ',';\\nalign-items: center;\\njustify-content: center;\\n']),_templateObject2=_taggedTemplateLiteral(['\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n    margin-top: 40px;\\n\\n    .btn-next {\\n        margin-bottom: 20px;\\n    }\\n'],['\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n    margin-top: 40px;\\n\\n    .btn-next {\\n        margin-bottom: 20px;\\n    }\\n']),_templateObject3=_taggedTemplateLiteral(['\\n    font-weight: 500;\\n    font-size: 18px;\\n    max-width: 65ch;\\n    text-align: center;\\n    padding: 0 20px;\\n'],['\\n    font-weight: 500;\\n    font-size: 18px;\\n    max-width: 65ch;\\n    text-align: center;\\n    padding: 0 20px;\\n']),_templateObject4=_taggedTemplateLiteral(['\\n    color: ',';\\n    margin-top: 20px;\\n'],['\\n    color: ',';\\n    margin-top: 20px;\\n']);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}var Container=__WEBPACK_IMPORTED_MODULE_10_styled_components__[\"c\" /* default */].div(_templateObject,function(props){return props.theme.color.borerDark;});var ButtonContainer=__WEBPACK_IMPORTED_MODULE_10_styled_components__[\"c\" /* default */].div(_templateObject2);var Question=__WEBPACK_IMPORTED_MODULE_10_styled_components__[\"c\" /* default */].div(_templateObject3);var Options=__WEBPACK_IMPORTED_MODULE_10_styled_components__[\"c\" /* default */].form(_templateObject4,function(props){return props.theme.color.primaryText;});var buildTree=Object(__WEBPACK_IMPORTED_MODULE_2_memoize_one__[\"a\" /* default */])(function(preorderArr){var Tree=new __WEBPACK_IMPORTED_MODULE_6__utils_data_structures__[\"a\" /* QuestionTree */]();Tree.constructTree(preorderArr);return Tree;});var getNativeQuestion=function getNativeQuestion(question){var lng=localStorage.getItem('i18nextLng');switch(lng){case'hi':return question.hindi;case'bn':return question.bengali;default:return question.english;}};var isFormSubmit=false;//const m ='Pls go physician and take self-qurantine immediately! Covid Test is neccessary';\nvar Home=function Home(props){var _useState=Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useState\"])(null),_useState2=_slicedToArray(_useState,2),ansSelected=_useState2[0],setAnswerSelected=_useState2[1];var _useState3=Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useState\"])(false),_useState4=_slicedToArray(_useState3,2),isShowFormSubmitErrorToast=_useState4[0],setIsShowFormSubmitErrorToast=_useState4[1];var _useTranslation=Object(__WEBPACK_IMPORTED_MODULE_1_react_i18next__[\"b\" /* useTranslation */])(),t=_useTranslation.t;var isFetchingQuestions=props.isFetchingQuestions,answers=props.answers,answeredAll=props.answeredAll,currentQuestionNode=props.currentQuestionNode,fetchQuestions=props.fetchQuestions,goToNextQuestion=props.goToNextQuestion,updateAnswers=props.updateAnswers,submitAnswers=props.submitAnswers,submitedAnswers=props.submitedAnswers;Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function(){fetchQuestions();Object(__WEBPACK_IMPORTED_MODULE_7__utils_helper__[\"a\" /* setGeoLocation */])();},[]);Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function(){if(submitedAnswers&&isFormSubmit){isFormSubmit=false;setIsShowFormSubmitErrorToast(true);}},[submitedAnswers]);Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useLayoutEffect\"])(function(){if(currentQuestionNode){var q_id=currentQuestionNode.q_id;if(answers&&answers.hasOwnProperty(q_id)){setAnswerSelected(answers[q_id]);}else{setAnswerSelected(null);}}},[currentQuestionNode]);var handleAnswerSelected=function handleAnswerSelected(e){var answer=e.target.dataset[\"id\"];if(!!answer){setAnswerSelected(answer);}};var handleNext=function handleNext(){if(!!ansSelected){var nextNode=currentQuestionNode[ansSelected];//console.log('d',currentQuestionNode);\nvar weight=ansSelected===\"yes\"?currentQuestionNode[\"yes_weight\"]:ansSelected===\"no\"?currentQuestionNode[\"no_weight\"]:0;//console.log('ff', weight);\nif(nextNode){goToNextQuestion({qid:currentQuestionNode.q_id,nextQid:currentQuestionNode[ansSelected].q_id,answer:ansSelected,weight:weight});}else{updateAnswers(currentQuestionNode.q_id,ansSelected,true,weight);}}};var handlePrev=function handlePrev(){var weight=ansSelected===\"yes\"?currentQuestionNode.yes_weight:ansSelected===\"no\"?currentQuestionNode.no_weight:0;goToNextQuestion({qid:currentQuestionNode.q_id,nextQid:currentQuestionNode.parent.q_id,answer:ansSelected,weight:weight});};var handleSubmit=function handleSubmit(){isFormSubmit=true;submitAnswers();};return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Container,null,isFetchingQuestions?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__components_Loader__[\"a\" /* default */],null):__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_0_react__[\"Fragment\"],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Question,null,currentQuestionNode&&getNativeQuestion(currentQuestionNode.data.question_texts)),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Options,{onClick:handleAnswerSelected},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_12__components_Radio__[\"a\" /* default */],{value:'yes',name:'radio',label:t('yes'),isChecked:ansSelected===\"yes\"}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_12__components_Radio__[\"a\" /* default */],{value:'no',name:'radio',label:t('no'),isChecked:ansSelected===\"no\"})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(ButtonContainer,null,currentQuestionNode&&!answeredAll&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_11__components_Button__[\"a\" /* default */],{onClick:handleNext,className:'btn-next'},t('next')),currentQuestionNode&&!currentQuestionNode.yes&&!currentQuestionNode.no&&answeredAll&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_11__components_Button__[\"a\" /* default */],{className:'btn-next',onClick:handleSubmit},t('submit')),currentQuestionNode&&currentQuestionNode.parent&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_11__components_Button__[\"a\" /* default */],{onClick:handlePrev},t('prev'))),submitedAnswers&&isShowFormSubmitErrorToast&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__components_Toastbar__[\"a\" /* default */],{message:submitedAnswers.suggestion,setIsToastOpen:setIsShowFormSubmitErrorToast})));};var mapStateToProps=function mapStateToProps(_ref){var questionsReducer=_ref.questionsReducer,answersReducer=_ref.answersReducer;var isFetchingQuestions=questionsReducer.isFetchingQuestions,questions=questionsReducer.questions,currentQuestionId=questionsReducer.currentQuestionId;var answers=answersReducer.answers,answeredAll=answersReducer.answeredAll,submitedAnswers=answersReducer.submitedAnswers;var currentQuestionNode=null;if(questions){var Tree=buildTree(questions);if(!currentQuestionId){currentQuestionNode=Tree.root;}else{currentQuestionNode=Tree.findNode(Tree.root,currentQuestionId);}}return{isFetchingQuestions:isFetchingQuestions,currentQuestionNode:currentQuestionNode,answers:answers,answeredAll:answeredAll,submitedAnswers:submitedAnswers};};/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_13_react_redux__[\"b\" /* connect */])(mapStateToProps,{fetchQuestions:__WEBPACK_IMPORTED_MODULE_3__actions_questions_actions__[\"a\" /* fetchQuestions */],updateAnswers:__WEBPACK_IMPORTED_MODULE_4__actions_answer_action__[\"b\" /* updateAnswers */],goToNextQuestion:__WEBPACK_IMPORTED_MODULE_5__actions_batch_action__[\"a\" /* goToNextQuestion */],submitAnswers:__WEBPACK_IMPORTED_MODULE_4__actions_answer_action__[\"a\" /* submitAnswers */]})(Home));\n\n/***/ }),\n\n/***/ 189:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_styled_components__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Icons_Close__ = __webpack_require__(190);\nvar _templateObject=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 2px;\\n  display: flex;\\n  width: 100vw;\\n  justify-content: center;\\n\"],[\"\\n  position: fixed;\\n  top: 2px;\\n  display: flex;\\n  width: 100vw;\\n  justify-content: center;\\n\"]),_templateObject2=_taggedTemplateLiteral([\"\\n  border-radius: 6px;\\n  background-color: #414146;\\n  padding: 12px 16px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\"],[\"\\n  border-radius: 6px;\\n  background-color: #414146;\\n  padding: 12px 16px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\"]),_templateObject3=_taggedTemplateLiteral([\"\\n  max-width: 54ch;\\n  margin-right: 10px;\\n  color: #fff;\\n\"],[\"\\n  max-width: 54ch;\\n  margin-right: 10px;\\n  color: #fff;\\n\"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}var ToastOuterContainer=__WEBPACK_IMPORTED_MODULE_3_styled_components__[\"c\" /* default */].div(_templateObject);var ToastbarContainer=__WEBPACK_IMPORTED_MODULE_3_styled_components__[\"c\" /* default */].div(_templateObject2);var ToastMessage=__WEBPACK_IMPORTED_MODULE_3_styled_components__[\"c\" /* default */].p(_templateObject3);var Toastbar=function Toastbar(props){var message=props.message,setIsToastOpen=props.setIsToastOpen;return __WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.createPortal(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(ToastOuterContainer,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(ToastbarContainer,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(ToastMessage,null,message),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__Icons_Close__[\"a\" /* default */],{onClick:function onClick(){return setIsToastOpen(false);}}))),document.querySelector(\"#toastbar\"));};Toastbar.propTypes={message:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.node.isRequired,setIsToastOpen:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.func.isRequired};/* harmony default export */ __webpack_exports__[\"a\"] = (Toastbar);\n\n/***/ }),\n\n/***/ 190:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\nfunction _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i];}return target;}/* harmony default export */ __webpack_exports__[\"a\"] = (function(_ref){var className=_ref.className,rest=_objectWithoutProperties(_ref,[\"className\"]);return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"svg\",Object.assign({xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",viewBox:\"0 0 16 16\",className:className,role:\"button\",style:{cursor:'pointer'}},rest),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"path\",{fill:\"#FFF\",fillOpacity:\".5\",fillRule:\"evenodd\",d:\"M13.563 13.563c-.58.58-1.522.58-2.102 0l-3.458-3.458-3.465 3.464a1.485 1.485 0 0 1-2.102 0 1.485 1.485 0 0 1 0-2.102L5.9 8.002 2.436 4.538a1.485 1.485 0 0 1 0-2.102 1.485 1.485 0 0 1 2.102 0L8.003 5.9l3.458-3.458a1.487 1.487 0 0 1 2.102 2.102l-3.458 3.46 3.458 3.457c.581.58.581 1.522 0 2.102\"}));});\n\n/***/ }),\n\n/***/ 196:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return fetchQuestionsApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return submitAnswers; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios__ = __webpack_require__(65);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_axios__);\nvar _this=this;function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}var axiosConfig={headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}};/**\r\n * Fetch the questions\r\n * @returns {Promise}\r\n */var fetchQuestionsApi=function(){var _ref=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(token){return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",__WEBPACK_IMPORTED_MODULE_2_axios___default.a.get(__WEBPACK_IMPORTED_MODULE_1__constants__[\"a\" /* API_ROOT */]+\"/question?t=\"+token,axiosConfig));case 1:case\"end\":return _context.stop();}}},_callee,_this);}));return function fetchQuestionsApi(_x){return _ref.apply(this,arguments);};}();/**\r\n * Submit answers\r\n * @returns {Promise}\r\n */var submitAnswers=function(){var _ref2=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee2(token,user_details){return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",__WEBPACK_IMPORTED_MODULE_2_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_1__constants__[\"a\" /* API_ROOT */]+\"/submit?t=\"+token,{user_details:user_details},axiosConfig));case 1:case\"end\":return _context2.stop();}}},_callee2,_this);}));return function submitAnswers(_x2,_x3){return _ref2.apply(this,arguments);};}();\n\n/***/ }),\n\n/***/ 197:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (newInputs[i] !== lastInputs[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (memoizeOne);\n\n\n/***/ }),\n\n/***/ 198:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return fetchQuestions; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_questions__ = __webpack_require__(196);\nvar _this=this;function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}var fetchQuestions=function fetchQuestions(){return function(){var _ref=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(dispatch,getState){var loginDetails,token,_ref2,data;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;loginDetails=getState().accountReducer.loginDetails;if(!(loginDetails&&loginDetails.token)){_context.next=12;break;}token=loginDetails.token;dispatch({type:__WEBPACK_IMPORTED_MODULE_1__constants__[\"b\" /* FETCHING_QUESTIONS */]});_context.next=7;return Object(__WEBPACK_IMPORTED_MODULE_2__api_questions__[\"a\" /* fetchQuestionsApi */])(token);case 7:_ref2=_context.sent;data=_ref2.data;console.log(data.preordered_tree);localStorage.setItem('user_details',JSON.stringify(data.user_details));dispatch({type:__WEBPACK_IMPORTED_MODULE_1__constants__[\"c\" /* FETCH_QUESTIONS */],payload:data.preordered_tree});case 12:_context.next=16;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);case 16:case\"end\":return _context.stop();}}},_callee,_this,[[0,14]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};\n\n/***/ }),\n\n/***/ 199:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return updateAnswers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return submitAnswers; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_questions__ = __webpack_require__(196);\nvar _this=this;function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}var updateAnswers=function updateAnswers(qid,answer){var answeredAll=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var weight=arguments[3];return function(dispatch){dispatch({type:__WEBPACK_IMPORTED_MODULE_1__constants__[\"k\" /* UPDATE_ANSWERS */],payload:{qid:qid,answer:answer,answeredAll:answeredAll,weight:weight}});};};var submitAnswers=function submitAnswers(){return function(){var _ref=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(dispatch,getState){var answers,answersParam,final_weight,key,location,loginDetails,token,user_details,_ref2,data;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:__WEBPACK_IMPORTED_MODULE_1__constants__[\"i\" /* SUBMITING_ANSWERS */]});_context.prev=1;answers=getState().answersReducer.answers;answersParam={};final_weight=0;for(key in answers){answersParam[key]=answers[key].res===\"yes\"?true:false;final_weight+=answers[key].weight;}location=JSON.parse(localStorage.getItem('location'));loginDetails=getState().accountReducer.loginDetails;token=loginDetails.token;user_details=JSON.parse(localStorage.getItem('user_details'));user_details=Object.assign({},user_details,{final_weight:final_weight,question_answer:answersParam,location:location});_context.next=13;return Object(__WEBPACK_IMPORTED_MODULE_2__api_questions__[\"b\" /* submitAnswers */])(token,user_details);case 13:_ref2=_context.sent;data=_ref2.data;dispatch({type:__WEBPACK_IMPORTED_MODULE_1__constants__[\"j\" /* SUBMIT_ANSWERS */],payload:data});_context.next=20;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](1);case 20:case\"end\":return _context.stop();}}},_callee,_this,[[1,18]]);}));return function(_x2,_x3){return _ref.apply(this,arguments);};}();};\n\n/***/ }),\n\n/***/ 200:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return goToNextQuestion; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constants__ = __webpack_require__(2);\nvar goToNextQuestion=function goToNextQuestion(_ref){var qid=_ref.qid,nextQid=_ref.nextQid,answer=_ref.answer,weight=_ref.weight;return function(dispatch){if(answer){//console.log('ff2', weight);\ndispatch({type:__WEBPACK_IMPORTED_MODULE_0__constants__[\"d\" /* GO_TO_NEXT_Q */],payload:{qid:qid,nextQid:nextQid,answer:answer,weight:weight}});}else{dispatch({type:__WEBPACK_IMPORTED_MODULE_0__constants__[\"h\" /* SET_CURRENT_QUESTION_ID */],payload:nextQid});}};};\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export QuestionNode */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return QuestionTree; });\n/* unused harmony export Stack */\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var QuestionNode=function(){function QuestionNode(q_id,yes_weight,no_weight,question_texts){var parent=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;_classCallCheck(this,QuestionNode);this.yes=null;this.no=null;this.q_id=q_id;this.yes_weight=yes_weight;this.no_weight=no_weight;this.data={question_texts:question_texts};this.parent=parent;}_createClass(QuestionNode,[{key:\"setYes\",value:function setYes(node){this.yes=node;}},{key:\"setNo\",value:function setNo(node){this.no=node;}}]);return QuestionNode;}();var QuestionTree=function(){function QuestionTree(){_classCallCheck(this,QuestionTree);this.root=null;}_createClass(QuestionTree,[{key:\"constructTree\",value:function constructTree(preorderArr){var _preorderArr$=preorderArr[0],yes_weight=_preorderArr$.yes_weight,no_weight=_preorderArr$.no_weight,q_id=_preorderArr$.q_id,question_texts=_preorderArr$.question_texts;this.root=new QuestionNode(q_id,yes_weight,no_weight,question_texts);var st=new Stack();st.push(this.root);var newNode=void 0,popedNode=void 0,temp2=void 0,temp3=void 0,i=1;var len=preorderArr.length;while(i<len){popedNode=st.pop();temp2=preorderArr[i];if(temp2){if(!popedNode.yes){var _temp=temp2,_yes_weight=_temp.yes_weight,_no_weight=_temp.no_weight,_q_id=_temp.q_id,_question_texts=_temp.question_texts;newNode=new QuestionNode(_q_id,_yes_weight,_no_weight,_question_texts,popedNode);popedNode.setYes(newNode);st.push(newNode);i++;continue;}if(!popedNode.no){var _temp2=temp2,_yes_weight2=_temp2.yes_weight,_no_weight2=_temp2.no_weight,_q_id2=_temp2.q_id,_question_texts2=_temp2.question_texts;newNode=new QuestionNode(_q_id2,_yes_weight2,_no_weight2,_question_texts2,popedNode);popedNode.setNo(newNode);st.push(newNode);i++;continue;}st.push(popedNode.parent);}else{i++;temp3=preorderArr[i];if(!temp3){i++;st.push(popedNode.parent);}else{var _temp3=temp3,_yes_weight3=_temp3.yes_weight,_no_weight3=_temp3.no_weight,_q_id3=_temp3.q_id,_question_texts3=_temp3.question_texts;newNode=new QuestionNode(_q_id3,_yes_weight3,_no_weight3,_question_texts3,popedNode);popedNode.setNo(newNode);st.push(newNode);i++;}}}}},{key:\"findNode\",value:function findNode(node,q_id){if(node){if(node.q_id===q_id){return node;}var nodeA=this.findNode(node.yes,q_id);var nodeB=this.findNode(node.no,q_id);return nodeA?nodeA:nodeB?nodeB:null;}return null;}}]);return QuestionTree;}();var Stack=function(){function Stack(){_classCallCheck(this,Stack);this.items=[];}_createClass(Stack,[{key:\"push\",value:function push(item){this.items.push(item);}},{key:\"pop\",value:function pop(){return this.items.pop();}},{key:\"isEmpty\",value:function isEmpty(){return this.items.length===0;}}]);return Stack;}();\n\n/***/ }),\n\n/***/ 202:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return setGeoLocation; });\n/**\r\n * Ask user to allow to track location\r\n */var setGeoLocation=function setGeoLocation(){if(navigator.geolocation){var showPostion=function showPostion(position){var _position$coords=position.coords,latitude=_position$coords.latitude,longitude=_position$coords.longitude;localStorage.setItem('location',JSON.stringify({latitude:latitude,longitude:longitude}));return{latitude:latitude,longitude:longitude};};return navigator.geolocation.getCurrentPosition(showPostion);}};\n\n/***/ }),\n\n/***/ 203:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_styled_components__ = __webpack_require__(5);\nvar _templateObject=_taggedTemplateLiteral([\"\\n    margin: 0.5rem;\\n    color: \",\";\\n    input[type=\\\"radio\\\"] {\\n        position: absolute;\\n        opacity: 0;\\n        + .radio-label {\\n          &:before {\\n            content: '';\\n            background: $color1;\\n            border-radius: 100%;\\n            border: 1px solid \",\";\\n            display: inline-block;\\n            width: 1.4em;\\n            height: 1.4em;\\n            position: relative;\\n            top: -0.2em;\\n            margin-right: 1em; \\n            vertical-align: top;\\n            cursor: pointer;\\n            text-align: center;\\n            transition: all 250ms ease;\\n          }\\n        }\\n        &:checked {\\n          + .radio-label {\\n            &:before {\\n              background-color: \",\";\\n              box-shadow: inset 0 0 0 4px \",\";\\n            }\\n          }\\n        }\\n        &:focus {\\n          + .radio-label {\\n            &:before {\\n              outline: none;\\n              border-color: \\\"red\\\";\\n            }\\n          }\\n        }\\n        + .radio-label {\\n          &:empty {\\n            &:before {\\n              margin-right: 0;\\n            }\\n          }\\n        }\\n    }\\n}\"],[\"\\n    margin: 0.5rem;\\n    color: \",\";\\n    input[type=\\\"radio\\\"] {\\n        position: absolute;\\n        opacity: 0;\\n        + .radio-label {\\n          &:before {\\n            content: '';\\n            background: $color1;\\n            border-radius: 100%;\\n            border: 1px solid \",\";\\n            display: inline-block;\\n            width: 1.4em;\\n            height: 1.4em;\\n            position: relative;\\n            top: -0.2em;\\n            margin-right: 1em; \\n            vertical-align: top;\\n            cursor: pointer;\\n            text-align: center;\\n            transition: all 250ms ease;\\n          }\\n        }\\n        &:checked {\\n          + .radio-label {\\n            &:before {\\n              background-color: \",\";\\n              box-shadow: inset 0 0 0 4px \",\";\\n            }\\n          }\\n        }\\n        &:focus {\\n          + .radio-label {\\n            &:before {\\n              outline: none;\\n              border-color: \\\"red\\\";\\n            }\\n          }\\n        }\\n        + .radio-label {\\n          &:empty {\\n            &:before {\\n              margin-right: 0;\\n            }\\n          }\\n        }\\n    }\\n}\"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}var Container=__WEBPACK_IMPORTED_MODULE_1_styled_components__[\"c\" /* default */].div(_templateObject,function(props){return props.theme.color.borderDark;},function(props){return props.theme.color.borderDark;},function(props){return props.theme.color.primaryButton;},function(props){return props.theme.color.borderDark;});var Radio=function Radio(_ref){var name=_ref.name,label=_ref.label,value=_ref.value,isChecked=_ref.isChecked;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Container,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"input\",{tabIndex:0,name:name,type:\"radio\",checked:isChecked}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"label\",{\"data-id\":value,className:\"radio-label\"},label));};/* harmony default export */ __webpack_exports__[\"a\"] = (Radio);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.f6ea52c0.chunk.js","import React, { useState, useEffect, useLayoutEffect, Fragment } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport memoizeOne from 'memoize-one';\r\nimport { fetchQuestions } from \"../../actions/questions_actions\";\r\nimport { updateAnswers, submitAnswers } from \"../../actions/answer_action\";\r\nimport { goToNextQuestion } from \"../../actions/batch_action\";\r\nimport { QuestionTree } from '../../utils/data-structures';\r\nimport { setGeoLocation } from '../../utils/helper';\r\nimport Loader from \"../../components/Loader\";\r\nimport Toastbar from '../../components/Toastbar'; \r\nimport styled from \"styled-components\";\r\nimport Button from \"../../components/Button\";\r\nimport Radio from '../../components/Radio';\r\nimport { connect } from 'react-redux';\r\n\r\nconst Container = styled.div`\r\ndisplay: flex;\r\nflex-direction: column;\r\nwidth: 100vw;\r\nheight: 100%;\r\ncolor: ${props => props.theme.color.borerDark};\r\nalign-items: center;\r\njustify-content: center;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-top: 40px;\r\n\r\n    .btn-next {\r\n        margin-bottom: 20px;\r\n    }\r\n`;\r\n\r\nconst Question = styled.div`\r\n    font-weight: 500;\r\n    font-size: 18px;\r\n    max-width: 65ch;\r\n    text-align: center;\r\n    padding: 0 20px;\r\n`;\r\n\r\nconst Options = styled.form`\r\n    color: ${props => props.theme.color.primaryText};\r\n    margin-top: 20px;\r\n`;\r\n\r\nconst buildTree = memoizeOne(preorderArr => {\r\n    const Tree = new QuestionTree();\r\n    Tree.constructTree(preorderArr);\r\n    return Tree;\r\n});\r\n\r\nconst getNativeQuestion = (question) => {\r\n    const lng = localStorage.getItem('i18nextLng');\r\n    switch(lng) {\r\n        case 'hi': return question.hindi;\r\n        case 'bn': return question.bengali;\r\n        default: return question.english;\r\n    }\r\n};\r\n\r\nlet isFormSubmit = false;\r\n//const m ='Pls go physician and take self-qurantine immediately! Covid Test is neccessary';\r\n\r\nconst Home = props => {\r\n    const [ansSelected, setAnswerSelected] = useState(null);\r\n    const [isShowFormSubmitErrorToast, setIsShowFormSubmitErrorToast] = useState(false);\r\n    const { t } = useTranslation();\r\n    const { isFetchingQuestions,\r\n            answers,\r\n            answeredAll,\r\n            currentQuestionNode,\r\n            fetchQuestions,\r\n            goToNextQuestion,\r\n            updateAnswers,\r\n            submitAnswers,\r\n            submitedAnswers\r\n        } = props;\r\n\r\n    useEffect(() => {\r\n        fetchQuestions();\r\n        setGeoLocation();\r\n    },[]);\r\n\r\n    useEffect(() => {\r\n        if (submitedAnswers && isFormSubmit) {\r\n            isFormSubmit = false;\r\n            setIsShowFormSubmitErrorToast(true);\r\n        }\r\n    },[submitedAnswers])\r\n\r\n    useLayoutEffect(() => {\r\n        if (currentQuestionNode) {\r\n            let { q_id } = currentQuestionNode;\r\n            if (answers && answers.hasOwnProperty(q_id)) {\r\n                setAnswerSelected(answers[q_id]);\r\n            } else {\r\n                setAnswerSelected(null);\r\n            }\r\n        }\r\n    },[currentQuestionNode]);\r\n\r\n    const handleAnswerSelected = e => {\r\n        const answer = e.target.dataset[\"id\"];\r\n          if(!!answer) {\r\n              setAnswerSelected(answer);\r\n          }\r\n    };\r\n\r\n    const handleNext = () => {\r\n        if (!!ansSelected) {\r\n            let nextNode = currentQuestionNode[ansSelected];\r\n            //console.log('d',currentQuestionNode);\r\n            let weight = ansSelected === \"yes\"?currentQuestionNode[\"yes_weight\"]: ansSelected === \"no\"? currentQuestionNode[\"no_weight\"]:0;\r\n            //console.log('ff', weight);\r\n            if (nextNode) {\r\n                goToNextQuestion({ \r\n                    qid: currentQuestionNode.q_id,\r\n                    nextQid: currentQuestionNode[ansSelected].q_id,\r\n                    answer: ansSelected,\r\n                    weight\r\n                });\r\n            } else {\r\n                updateAnswers(currentQuestionNode.q_id, ansSelected, true, weight);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handlePrev = () => {\r\n        let weight = ansSelected === \"yes\"?\r\n            currentQuestionNode.yes_weight: ansSelected === \"no\"? currentQuestionNode.no_weight:0;\r\n        goToNextQuestion({ \r\n            qid: currentQuestionNode.q_id,\r\n            nextQid: currentQuestionNode.parent.q_id,\r\n            answer: ansSelected,\r\n            weight\r\n        });\r\n    };\r\n\r\n    const handleSubmit = () => {\r\n        isFormSubmit = true;\r\n        submitAnswers();\r\n    };\r\n\r\n    \r\n\r\n    return (\r\n        <Container>\r\n            {isFetchingQuestions ?\r\n            <Loader/> : \r\n            <Fragment>\r\n                <Question>\r\n                    {currentQuestionNode && getNativeQuestion(currentQuestionNode.data.question_texts)}\r\n                </Question>\r\n                <Options onClick={handleAnswerSelected}>\r\n                    <Radio\r\n                        value=\"yes\"\r\n                        name=\"radio\"\r\n                        label={t('yes')}\r\n                        isChecked={ansSelected === \"yes\"} />\r\n                    <Radio\r\n                        value=\"no\"\r\n                        name=\"radio\"\r\n                        label={t('no')}\r\n                        isChecked={ansSelected === \"no\"} />\r\n                </Options>\r\n                <ButtonContainer>\r\n                    {currentQuestionNode && !answeredAll\r\n                    &&<Button onClick={handleNext} className='btn-next'>{t('next')}</Button>}\r\n                    {currentQuestionNode && (!currentQuestionNode.yes && !currentQuestionNode.no) && answeredAll\r\n                    && <Button className='btn-next' onClick={handleSubmit}>{t('submit')}</Button>}\r\n                    {currentQuestionNode && currentQuestionNode.parent\r\n                    && <Button onClick={handlePrev}>{t('prev')}</Button>}\r\n                </ButtonContainer>\r\n                {submitedAnswers && isShowFormSubmitErrorToast && <Toastbar\r\n                message={submitedAnswers.suggestion}\r\n                setIsToastOpen={setIsShowFormSubmitErrorToast} />}\r\n            </Fragment>}\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = ({ questionsReducer, answersReducer }) => {\r\n    const { isFetchingQuestions, questions, currentQuestionId } = questionsReducer;\r\n    const { answers, answeredAll, submitedAnswers } = answersReducer;\r\n    let currentQuestionNode = null;\r\n    if (questions) {\r\n        const Tree = buildTree(questions);\r\n    \r\n        if(!currentQuestionId) {\r\n            currentQuestionNode = Tree.root;\r\n        } else {\r\n            currentQuestionNode = Tree.findNode(Tree.root, currentQuestionId);\r\n        }\r\n    }\r\n\r\n    return {\r\n        isFetchingQuestions,\r\n        currentQuestionNode,\r\n        answers,\r\n        answeredAll,\r\n        submitedAnswers\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchQuestions, updateAnswers, goToNextQuestion, submitAnswers })(Home);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Home/index.jsx","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport Close from \"../Icons/Close\";\r\n\r\nconst ToastOuterContainer = styled.div`\r\n  position: fixed;\r\n  top: 2px;\r\n  display: flex;\r\n  width: 100vw;\r\n  justify-content: center;\r\n`;\r\nconst ToastbarContainer = styled.div`\r\n  border-radius: 6px;\r\n  background-color: #414146;\r\n  padding: 12px 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst ToastMessage = styled.p`\r\n  max-width: 54ch;\r\n  margin-right: 10px;\r\n  color: #fff;\r\n`;\r\n\r\nconst Toastbar = props => {\r\n  const { message, setIsToastOpen } = props;\r\n  return ReactDOM.createPortal(\r\n    <ToastOuterContainer>\r\n      <ToastbarContainer>\r\n        <ToastMessage>{message}</ToastMessage>\r\n        <Close onClick={() => setIsToastOpen(false)} />\r\n      </ToastbarContainer>\r\n    </ToastOuterContainer>,\r\n    document.querySelector(\"#toastbar\")\r\n  );\r\n};\r\n\r\nToastbar.propTypes = {\r\n  message: PropTypes.node.isRequired,\r\n  setIsToastOpen: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Toastbar;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Toastbar/index.jsx","import React from \"react\";\r\n\r\nexport default ({ className, ...rest }) => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"16\"\r\n      height=\"16\"\r\n      viewBox=\"0 0 16 16\"\r\n      className={className}\r\n      role='button'\r\n      style={{ cursor: 'pointer'}}\r\n      {...rest}\r\n    >\r\n      <path\r\n        fill=\"#FFF\"\r\n        fillOpacity=\".5\"\r\n        fillRule=\"evenodd\"\r\n        d=\"M13.563 13.563c-.58.58-1.522.58-2.102 0l-3.458-3.458-3.465 3.464a1.485 1.485 0 0 1-2.102 0 1.485 1.485 0 0 1 0-2.102L5.9 8.002 2.436 4.538a1.485 1.485 0 0 1 0-2.102 1.485 1.485 0 0 1 2.102 0L8.003 5.9l3.458-3.458a1.487 1.487 0 0 1 2.102 2.102l-3.458 3.46 3.458 3.457c.581.58.581 1.522 0 2.102\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/Close.jsx","import { API_ROOT } from \"../constants\";\r\nimport axios from \"axios\";\r\n\r\nconst axiosConfig = {\r\n  headers: {\r\n    Accept: \"application/json\",\r\n    \"Content-Type\": \"application/json\"\r\n  }\r\n};\r\n\r\n/**\r\n * Fetch the questions\r\n * @returns {Promise}\r\n */\r\nexport const fetchQuestionsApi = async token => {\r\n    return axios.get(`${API_ROOT}/question?t=${token}`, axiosConfig);\r\n}\r\n\r\n/**\r\n * Submit answers\r\n * @returns {Promise}\r\n */\r\nexport const submitAnswers = async (token, user_details) => {\r\n  return axios.post(`${API_ROOT}/submit?t=${token}`, { user_details } , axiosConfig);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/questions.js","function areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (newInputs[i] !== lastInputs[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/memoize-one/dist/memoize-one.esm.js\n// module id = 197\n// module chunks = 0","import { FETCHING_QUESTIONS, FETCH_QUESTIONS } from \"../constants\";\r\nimport { fetchQuestionsApi } from \"../api/questions\";\r\n\r\nexport const fetchQuestions = () => {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const { loginDetails } = getState().accountReducer;\r\n\r\n            if (loginDetails && loginDetails.token) {\r\n                const { token } = loginDetails;\r\n                dispatch({ type: FETCHING_QUESTIONS });\r\n                const { data } = await fetchQuestionsApi(token);\r\n                console.log(data.preordered_tree);\r\n                localStorage.setItem('user_details', JSON.stringify(data.user_details));\r\n                dispatch({ type: FETCH_QUESTIONS, payload: data.preordered_tree });\r\n          }\r\n        } catch (err) {}\r\n      };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/questions_actions.js","import { UPDATE_ANSWERS, SUBMITING_ANSWERS, SUBMIT_ANSWERS } from \"../constants\";\r\nimport { submitAnswers as submitAnswersApi } from \"../api/questions\";\r\n\r\nexport const updateAnswers = (qid, answer, answeredAll = false, weight) => {\r\n    return dispatch => {\r\n        dispatch({ type: UPDATE_ANSWERS, payload: { qid, answer, answeredAll, weight }});\r\n    }\r\n};\r\n\r\nexport const submitAnswers = () => {\r\n    return async (dispatch, getState) => {\r\n        dispatch({ type: SUBMITING_ANSWERS })\r\n        try {\r\n            const { answers } = getState().answersReducer;\r\n            let answersParam = {};\r\n            let final_weight = 0;\r\n            for (let key in answers) {\r\n                answersParam[key] = answers[key].res ===\"yes\" ? true: false;\r\n                final_weight += answers[key].weight;\r\n            }\r\n\r\n            const location = JSON.parse(localStorage.getItem('location'));\r\n            const { loginDetails } = getState().accountReducer;\r\n            const { token } = loginDetails;\r\n            let user_details = JSON.parse(localStorage.getItem('user_details'));\r\n            user_details = {...user_details, final_weight, question_answer: answersParam, location };\r\n            const { data } = await submitAnswersApi(token, user_details);\r\n            dispatch({ type:SUBMIT_ANSWERS, payload: data });\r\n        } catch(err) {\r\n\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/answer_action.js","import { GO_TO_NEXT_Q, SET_CURRENT_QUESTION_ID } from \"../constants\";\r\n\r\nexport const goToNextQuestion = ({ qid, nextQid, answer, weight }) => {\r\n    return dispatch => {\r\n        if (answer) {\r\n            //console.log('ff2', weight);\r\n            dispatch({ type: GO_TO_NEXT_Q, payload: { qid, nextQid, answer, weight } })\r\n        } else {\r\n            dispatch({ type: SET_CURRENT_QUESTION_ID, payload: nextQid });\r\n        }\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/batch_action.js","export class QuestionNode {\r\n    constructor(q_id, yes_weight, no_weight, question_texts, parent = null) {\r\n        this.yes = null;\r\n        this.no = null;\r\n        this.q_id = q_id;\r\n        this.yes_weight = yes_weight;\r\n        this.no_weight = no_weight;\r\n        this.data = {\r\n            question_texts\r\n        }\r\n        this.parent = parent;\r\n    }\r\n\r\n    setYes(node) {\r\n        this.yes = node;\r\n    }\r\n\r\n    setNo(node) {\r\n        this.no = node;\r\n    }\r\n}\r\n\r\nexport class QuestionTree {\r\n\r\n    constructor() {\r\n        this.root = null;\r\n    }\r\n\r\n    constructTree(preorderArr) {\r\n        let { yes_weight, no_weight, q_id, question_texts } = preorderArr[0];\r\n        this.root = new QuestionNode(q_id, yes_weight, no_weight, question_texts);\r\n        const st = new Stack();\r\n        st.push(this.root);\r\n        let newNode,popedNode, temp2, temp3, i=1;\r\n        let len = preorderArr.length;\r\n        while(i<len) {\r\n           popedNode = st.pop();\r\n           temp2 = preorderArr[i];\r\n           if (temp2) {\r\n                if (!popedNode.yes) {\r\n                    let { yes_weight, no_weight, q_id, question_texts } = temp2;\r\n                    newNode = new QuestionNode(q_id, yes_weight, no_weight, question_texts, popedNode);\r\n                    popedNode.setYes(newNode);\r\n                    st.push(newNode);\r\n                    i++;\r\n                    continue;\r\n                }\r\n                if (!popedNode.no) {\r\n                    let { yes_weight, no_weight, q_id, question_texts } = temp2;\r\n                    newNode = new QuestionNode(q_id,  yes_weight, no_weight, question_texts, popedNode);\r\n                    popedNode.setNo(newNode);\r\n                    st.push(newNode);\r\n                    i++;\r\n                    continue;\r\n                }\r\n                st.push(popedNode.parent);\r\n           } else {\r\n                i++;\r\n                temp3 = preorderArr[i];\r\n                if (!temp3) {\r\n                    i++;\r\n                    st.push(popedNode.parent);\r\n                } else {\r\n                    let { yes_weight, no_weight, q_id, question_texts } = temp3;\r\n                    newNode = new QuestionNode(q_id, yes_weight, no_weight, question_texts, popedNode );\r\n                    popedNode.setNo(newNode);\r\n                    st.push(newNode);\r\n                    i++;\r\n                }\r\n           }\r\n        }\r\n    }\r\n\r\n    findNode(node, q_id) {\r\n        if (node) {\r\n            if (node.q_id === q_id) {\r\n                return node;\r\n            }\r\n\r\n            const nodeA = this.findNode(node.yes, q_id);\r\n            const nodeB = this.findNode(node.no, q_id);\r\n            return nodeA? nodeA : nodeB ? nodeB : null;\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\nexport class Stack {\r\n    constructor() {\r\n        this.items = [];\r\n    };\r\n\r\n    push(item) {\r\n        this.items.push(item);\r\n    }\r\n\r\n    pop() {\r\n        return this.items.pop();\r\n    }\r\n\r\n    isEmpty() {\r\n        return this.items.length === 0;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/data-structures.js","/**\r\n * Ask user to allow to track location\r\n */\r\nexport const setGeoLocation = () => {\r\n    if (navigator.geolocation) {\r\n        const showPostion = (position) => {\r\n            const { latitude, longitude } = position.coords;\r\n            localStorage.setItem('location', JSON.stringify({ latitude, longitude }));\r\n            return { latitude, longitude };\r\n        };\r\n\r\n        return navigator.geolocation.getCurrentPosition(showPostion);\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/helper.js","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n    margin: 0.5rem;\r\n    color: ${props => props.theme.color.borderDark};\r\n    input[type=\"radio\"] {\r\n        position: absolute;\r\n        opacity: 0;\r\n        + .radio-label {\r\n          &:before {\r\n            content: '';\r\n            background: $color1;\r\n            border-radius: 100%;\r\n            border: 1px solid ${props => props.theme.color.borderDark};\r\n            display: inline-block;\r\n            width: 1.4em;\r\n            height: 1.4em;\r\n            position: relative;\r\n            top: -0.2em;\r\n            margin-right: 1em; \r\n            vertical-align: top;\r\n            cursor: pointer;\r\n            text-align: center;\r\n            transition: all 250ms ease;\r\n          }\r\n        }\r\n        &:checked {\r\n          + .radio-label {\r\n            &:before {\r\n              background-color: ${props => props.theme.color.primaryButton};\r\n              box-shadow: inset 0 0 0 4px ${props => props.theme.color.borderDark};\r\n            }\r\n          }\r\n        }\r\n        &:focus {\r\n          + .radio-label {\r\n            &:before {\r\n              outline: none;\r\n              border-color: \"red\";\r\n            }\r\n          }\r\n        }\r\n        + .radio-label {\r\n          &:empty {\r\n            &:before {\r\n              margin-right: 0;\r\n            }\r\n          }\r\n        }\r\n    }\r\n}`;\r\n\r\nconst Radio = ({ name, label, value, isChecked }) => {\r\n    return (\r\n        <Container>\r\n            <input tabIndex={0} name={name} type=\"radio\" checked={isChecked}/>\r\n            <label data-id={value} className='radio-label'>{label}</label>\r\n        </Container>\r\n    )\r\n};\r\n\r\nexport default Radio;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Radio/index.jsx"],"sourceRoot":""}