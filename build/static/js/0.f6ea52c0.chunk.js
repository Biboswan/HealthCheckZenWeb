webpackJsonp([0],{186:function(n,e,t){"use strict";function r(n,e){return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}Object.defineProperty(e,"__esModule",{value:!0});var i=t(0),o=t.n(i),a=t(16),u=t(197),c=t(198),s=t(199),l=t(200),f=t(201),d=t(202),p=t(62),h=t(189),g=t(5),m=t(61),v=t(203),b=t(24),w=function(){function n(n,e){var t=[],r=!0,i=!1,o=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(n){i=!0,o=n}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=r(["\ndisplay: flex;\nflex-direction: column;\nwidth: 100vw;\nheight: 100%;\ncolor: ",";\nalign-items: center;\njustify-content: center;\n"],["\ndisplay: flex;\nflex-direction: column;\nwidth: 100vw;\nheight: 100%;\ncolor: ",";\nalign-items: center;\njustify-content: center;\n"]),x=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-top: 40px;\n\n    .btn-next {\n        margin-bottom: 20px;\n    }\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-top: 40px;\n\n    .btn-next {\n        margin-bottom: 20px;\n    }\n"]),k=r(["\n    font-weight: 500;\n    font-size: 18px;\n    max-width: 65ch;\n    text-align: center;\n    padding: 0 20px;\n"],["\n    font-weight: 500;\n    font-size: 18px;\n    max-width: 65ch;\n    text-align: center;\n    padding: 0 20px;\n"]),_=r(["\n    color: ",";\n    margin-top: 20px;\n"],["\n    color: ",";\n    margin-top: 20px;\n"]),j=g.c.div(y,function(n){return n.theme.color.borerDark}),O=g.c.div(x),q=g.c.div(k),E=g.c.form(_,function(n){return n.theme.color.primaryText}),N=Object(u.a)(function(n){var e=new f.a;return e.constructTree(n),e}),P=function(n){switch(localStorage.getItem("i18nextLng")){case"hi":return n.hindi;case"bn":return n.bengali;default:return n.english}},A=!1,Q=function(n){var e=Object(i.useState)(null),t=w(e,2),r=t[0],u=t[1],c=Object(i.useState)(!1),s=w(c,2),l=s[0],f=s[1],g=Object(a.b)(),b=g.t,y=n.isFetchingQuestions,x=n.answers,k=n.answeredAll,_=n.currentQuestionNode,N=n.fetchQuestions,Q=n.goToNextQuestion,S=n.updateAnswers,T=n.submitAnswers,C=n.submitedAnswers;Object(i.useEffect)(function(){N(),Object(d.a)()},[]),Object(i.useEffect)(function(){C&&A&&(A=!1,f(!0))},[C]),Object(i.useLayoutEffect)(function(){if(_){var n=_.q_id;u(x&&x.hasOwnProperty(n)?x[n]:null)}},[_]);var I=function(n){var e=n.target.dataset.id;e&&u(e)},z=function(){if(r){var n=_[r],e="yes"===r?_.yes_weight:"no"===r?_.no_weight:0;n?Q({qid:_.q_id,nextQid:_[r].q_id,answer:r,weight:e}):S(_.q_id,r,!0,e)}},R=function(){var n="yes"===r?_.yes_weight:"no"===r?_.no_weight:0;Q({qid:_.q_id,nextQid:_.parent.q_id,answer:r,weight:n})},F=function(){A=!0,T()};return o.a.createElement(j,null,y?o.a.createElement(p.a,null):o.a.createElement(i.Fragment,null,o.a.createElement(q,null,_&&P(_.data.question_texts)),o.a.createElement(E,{onClick:I},o.a.createElement(v.a,{value:"yes",name:"radio",label:b("yes"),isChecked:"yes"===r}),o.a.createElement(v.a,{value:"no",name:"radio",label:b("no"),isChecked:"no"===r})),o.a.createElement(O,null,_&&!k&&o.a.createElement(m.a,{onClick:z,className:"btn-next"},b("next")),_&&!_.yes&&!_.no&&k&&o.a.createElement(m.a,{className:"btn-next",onClick:F},b("submit")),_&&_.parent&&o.a.createElement(m.a,{onClick:R},b("prev"))),C&&l&&o.a.createElement(h.a,{message:C.suggestion,setIsToastOpen:f})))},S=function(n){var e=n.questionsReducer,t=n.answersReducer,r=e.isFetchingQuestions,i=e.questions,o=e.currentQuestionId,a=t.answers,u=t.answeredAll,c=t.submitedAnswers,s=null;if(i){var l=N(i);s=o?l.findNode(l.root,o):l.root}return{isFetchingQuestions:r,currentQuestionNode:s,answers:a,answeredAll:u,submitedAnswers:c}};e.default=Object(b.b)(S,{fetchQuestions:c.a,updateAnswers:s.b,goToNextQuestion:l.a,submitAnswers:s.a})(Q)},189:function(n,e,t){"use strict";function r(n,e){return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var i=t(0),o=t.n(i),a=t(26),u=t.n(a),c=t(11),s=t.n(c),l=t(5),f=t(190),d=r(["\n  position: fixed;\n  top: 2px;\n  display: flex;\n  width: 100vw;\n  justify-content: center;\n"],["\n  position: fixed;\n  top: 2px;\n  display: flex;\n  width: 100vw;\n  justify-content: center;\n"]),p=r(["\n  border-radius: 6px;\n  background-color: #414146;\n  padding: 12px 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"],["\n  border-radius: 6px;\n  background-color: #414146;\n  padding: 12px 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]),h=r(["\n  max-width: 54ch;\n  margin-right: 10px;\n  color: #fff;\n"],["\n  max-width: 54ch;\n  margin-right: 10px;\n  color: #fff;\n"]),g=l.c.div(d),m=l.c.div(p),v=l.c.p(h),b=function(n){var e=n.message,t=n.setIsToastOpen;return u.a.createPortal(o.a.createElement(g,null,o.a.createElement(m,null,o.a.createElement(v,null,e),o.a.createElement(f.a,{onClick:function(){return t(!1)}}))),document.querySelector("#toastbar"))};b.propTypes={message:s.a.node.isRequired,setIsToastOpen:s.a.func.isRequired},e.a=b},190:function(n,e,t){"use strict";function r(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}var i=t(0),o=t.n(i);e.a=function(n){var e=n.className,t=r(n,["className"]);return o.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",className:e,role:"button",style:{cursor:"pointer"}},t),o.a.createElement("path",{fill:"#FFF",fillOpacity:".5",fillRule:"evenodd",d:"M13.563 13.563c-.58.58-1.522.58-2.102 0l-3.458-3.458-3.465 3.464a1.485 1.485 0 0 1-2.102 0 1.485 1.485 0 0 1 0-2.102L5.9 8.002 2.436 4.538a1.485 1.485 0 0 1 0-2.102 1.485 1.485 0 0 1 2.102 0L8.003 5.9l3.458-3.458a1.487 1.487 0 0 1 2.102 2.102l-3.458 3.46 3.458 3.457c.581.58.581 1.522 0 2.102"}))}},196:function(n,e,t){"use strict";function r(n){return function(){var e=n.apply(this,arguments);return new Promise(function(n,t){function r(i,o){try{var a=e[i](o),u=a.value}catch(n){return void t(n)}if(!a.done)return Promise.resolve(u).then(function(n){r("next",n)},function(n){r("throw",n)});n(u)}return r("next")})}}t.d(e,"a",function(){return f}),t.d(e,"b",function(){return d});var i=t(25),o=t.n(i),a=t(2),u=t(65),c=t.n(u),s=this,l={headers:{Accept:"application/json","Content-Type":"application/json"}},f=function(){var n=r(o.a.mark(function n(e){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",c.a.get(a.a+"/question?t="+e,l));case 1:case"end":return n.stop()}},n,s)}));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=r(o.a.mark(function n(e,t){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",c.a.post(a.a+"/submit?t="+e,{user_details:t},l));case 1:case"end":return n.stop()}},n,s)}));return function(e,t){return n.apply(this,arguments)}}()},197:function(n,e,t){"use strict";function r(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function i(n,e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return u&&i===this&&e(t,a)?o:(o=n.apply(this,t),u=!0,i=this,a=t,o)}void 0===e&&(e=r);var i,o,a=[],u=!1;return t}e.a=i},198:function(n,e,t){"use strict";function r(n){return function(){var e=n.apply(this,arguments);return new Promise(function(n,t){function r(i,o){try{var a=e[i](o),u=a.value}catch(n){return void t(n)}if(!a.done)return Promise.resolve(u).then(function(n){r("next",n)},function(n){r("throw",n)});n(u)}return r("next")})}}t.d(e,"a",function(){return s});var i=t(25),o=t.n(i),a=t(2),u=t(196),c=this,s=function(){return function(){var n=r(o.a.mark(function n(e,t){var r,i,s,l;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(r=t().accountReducer.loginDetails)||!r.token){n.next=12;break}return i=r.token,e({type:a.b}),n.next=7,Object(u.a)(i);case 7:s=n.sent,l=s.data,console.log(l.preordered_tree),localStorage.setItem("user_details",JSON.stringify(l.user_details)),e({type:a.c,payload:l.preordered_tree});case 12:n.next=16;break;case 14:n.prev=14,n.t0=n.catch(0);case 16:case"end":return n.stop()}},n,c,[[0,14]])}));return function(e,t){return n.apply(this,arguments)}}()}},199:function(n,e,t){"use strict";function r(n){return function(){var e=n.apply(this,arguments);return new Promise(function(n,t){function r(i,o){try{var a=e[i](o),u=a.value}catch(n){return void t(n)}if(!a.done)return Promise.resolve(u).then(function(n){r("next",n)},function(n){r("throw",n)});n(u)}return r("next")})}}t.d(e,"b",function(){return s}),t.d(e,"a",function(){return l});var i=t(25),o=t.n(i),a=t(2),u=t(196),c=this,s=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments[3];return function(i){i({type:a.k,payload:{qid:n,answer:e,answeredAll:t,weight:r}})}},l=function(){return function(){var n=r(o.a.mark(function n(e,t){var r,i,s,l,f,d,p,h,g,m;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e({type:a.i}),n.prev=1,r=t().answersReducer.answers,i={},s=0;for(l in r)i[l]="yes"===r[l].res,s+=r[l].weight;return f=JSON.parse(localStorage.getItem("location")),d=t().accountReducer.loginDetails,p=d.token,h=JSON.parse(localStorage.getItem("user_details")),h=Object.assign({},h,{final_weight:s,question_answer:i,location:f}),n.next=13,Object(u.b)(p,h);case 13:g=n.sent,m=g.data,e({type:a.j,payload:m}),n.next=20;break;case 18:n.prev=18,n.t0=n.catch(1);case 20:case"end":return n.stop()}},n,c,[[1,18]])}));return function(e,t){return n.apply(this,arguments)}}()}},200:function(n,e,t){"use strict";t.d(e,"a",function(){return i});var r=t(2),i=function(n){var e=n.qid,t=n.nextQid,i=n.answer,o=n.weight;return function(n){n(i?{type:r.d,payload:{qid:e,nextQid:t,answer:i,weight:o}}:{type:r.h,payload:t})}}},201:function(n,e,t){"use strict";function r(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}t.d(e,"a",function(){return a});var i=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=function(){function n(e,t,i,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;r(this,n),this.yes=null,this.no=null,this.q_id=e,this.yes_weight=t,this.no_weight=i,this.data={question_texts:o},this.parent=a}return i(n,[{key:"setYes",value:function(n){this.yes=n}},{key:"setNo",value:function(n){this.no=n}}]),n}(),a=function(){function n(){r(this,n),this.root=null}return i(n,[{key:"constructTree",value:function(n){var e=n[0],t=e.yes_weight,r=e.no_weight,i=e.q_id,a=e.question_texts;this.root=new o(i,t,r,a);var c=new u;c.push(this.root);for(var s=void 0,l=void 0,f=void 0,d=void 0,p=1,h=n.length;p<h;)if(l=c.pop(),f=n[p]){if(!l.yes){var g=f,m=g.yes_weight,v=g.no_weight,b=g.q_id,w=g.question_texts;s=new o(b,m,v,w,l),l.setYes(s),c.push(s),p++;continue}if(!l.no){var y=f,x=y.yes_weight,k=y.no_weight,_=y.q_id,j=y.question_texts;s=new o(_,x,k,j,l),l.setNo(s),c.push(s),p++;continue}c.push(l.parent)}else if(p++,d=n[p]){var O=d,q=O.yes_weight,E=O.no_weight,N=O.q_id,P=O.question_texts;s=new o(N,q,E,P,l),l.setNo(s),c.push(s),p++}else p++,c.push(l.parent)}},{key:"findNode",value:function(n,e){if(n){if(n.q_id===e)return n;var t=this.findNode(n.yes,e),r=this.findNode(n.no,e);return t||(r||null)}return null}}]),n}(),u=function(){function n(){r(this,n),this.items=[]}return i(n,[{key:"push",value:function(n){this.items.push(n)}},{key:"pop",value:function(){return this.items.pop()}},{key:"isEmpty",value:function(){return 0===this.items.length}}]),n}()},202:function(n,e,t){"use strict";t.d(e,"a",function(){return r});var r=function(){if(navigator.geolocation){var n=function(n){var e=n.coords,t=e.latitude,r=e.longitude;return localStorage.setItem("location",JSON.stringify({latitude:t,longitude:r})),{latitude:t,longitude:r}};return navigator.geolocation.getCurrentPosition(n)}}},203:function(n,e,t){"use strict";var r=t(0),i=t.n(r),o=t(5),a=function(n,e){return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["\n    margin: 0.5rem;\n    color: ",";\n    input[type=\"radio\"] {\n        position: absolute;\n        opacity: 0;\n        + .radio-label {\n          &:before {\n            content: '';\n            background: $color1;\n            border-radius: 100%;\n            border: 1px solid ",";\n            display: inline-block;\n            width: 1.4em;\n            height: 1.4em;\n            position: relative;\n            top: -0.2em;\n            margin-right: 1em; \n            vertical-align: top;\n            cursor: pointer;\n            text-align: center;\n            transition: all 250ms ease;\n          }\n        }\n        &:checked {\n          + .radio-label {\n            &:before {\n              background-color: ",";\n              box-shadow: inset 0 0 0 4px ",';\n            }\n          }\n        }\n        &:focus {\n          + .radio-label {\n            &:before {\n              outline: none;\n              border-color: "red";\n            }\n          }\n        }\n        + .radio-label {\n          &:empty {\n            &:before {\n              margin-right: 0;\n            }\n          }\n        }\n    }\n}'],["\n    margin: 0.5rem;\n    color: ",";\n    input[type=\"radio\"] {\n        position: absolute;\n        opacity: 0;\n        + .radio-label {\n          &:before {\n            content: '';\n            background: $color1;\n            border-radius: 100%;\n            border: 1px solid ",";\n            display: inline-block;\n            width: 1.4em;\n            height: 1.4em;\n            position: relative;\n            top: -0.2em;\n            margin-right: 1em; \n            vertical-align: top;\n            cursor: pointer;\n            text-align: center;\n            transition: all 250ms ease;\n          }\n        }\n        &:checked {\n          + .radio-label {\n            &:before {\n              background-color: ",";\n              box-shadow: inset 0 0 0 4px ",';\n            }\n          }\n        }\n        &:focus {\n          + .radio-label {\n            &:before {\n              outline: none;\n              border-color: "red";\n            }\n          }\n        }\n        + .radio-label {\n          &:empty {\n            &:before {\n              margin-right: 0;\n            }\n          }\n        }\n    }\n}']),u=o.c.div(a,function(n){return n.theme.color.borderDark},function(n){return n.theme.color.borderDark},function(n){return n.theme.color.primaryButton},function(n){return n.theme.color.borderDark}),c=function(n){var e=n.name,t=n.label,r=n.value,o=n.isChecked;return i.a.createElement(u,null,i.a.createElement("input",{tabIndex:0,name:e,type:"radio",checked:o}),i.a.createElement("label",{"data-id":r,className:"radio-label"},t))};e.a=c}});
//# sourceMappingURL=0.f6ea52c0.chunk.js.map